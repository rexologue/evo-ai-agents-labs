# agent-service

MCP —Å–µ—Ä–≤–µ—Ä —Å –ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º: –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å, –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –û–ö–ü–î2 –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ `db-mcp`.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- `generate_company_profile` ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å —Å –û–ö–ü–î2 –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ —á–µ—Ä–µ–∑ `db-mcp`.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.11+
- –î–æ—Å—Ç—É–ø –∫ LLM API —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–º—É —Å OpenAI
- –û—Ç–¥–µ–ª—å–Ω–æ –∑–∞–ø—É—â–µ–Ω–Ω—ã–π MCP —Å–µ—Ä–≤–µ—Ä `db-mcp` –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª `.env` (—Å–º. `.env.example`). –ù–∏ –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑
–∫–æ–¥–∞ –∏–ª–∏ `docker-compose.yaml`, –ø–æ—ç—Ç–æ–º—É –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–∞–π–ª –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Postgres
- `DB_HOST` ‚Äî —Ö–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `DB_PORT` ‚Äî –ø–æ—Ä—Ç Postgres
- `DB_NAME` ‚Äî –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `DB_USER` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `DB_PASSWORD` ‚Äî –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ `db-mcp`
- `DB_MCP_HOST` ‚Äî —Ö–æ—Å—Ç –¥–ª—è HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ MCP
- `DB_MCP_PORT` ‚Äî –ø–æ—Ä—Ç –¥–ª—è HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ MCP

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ `agent-service`
- `AGENT_HOST` ‚Äî —Ö–æ—Å—Ç HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –∞–≥–µ–Ω—Ç–∞
- `AGENT_PORT` ‚Äî –ø–æ—Ä—Ç HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –∞–≥–µ–Ω—Ç–∞
- `LLM_API_KEY` ‚Äî API –∫–ª—é—á –¥–ª—è LLM
- `LLM_MODEL` ‚Äî –∏–º—è LLM –º–æ–¥–µ–ª–∏
- `LLM_API_BASE` ‚Äî –±–∞–∑–æ–≤—ã–π URL LLM
- `DB_MCP_URL` ‚Äî –ø–æ–ª–Ω—ã–π URL HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ `db-mcp` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `http://db-mcp:8000`)

## üöÄ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
```bash
cd agent-service
pip install -e .
cp .env.example .env
# –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∫–ª—é—á LLM –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∞–¥—Ä–µ—Å–∞ –∏ –ø–æ—Ä—Ç—ã —Å–æ–≤–ø–∞–¥–∞—é—Ç
python -m src.server
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `streamable-http` —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É –∏–∑ `.env`
(`AGENT_HOST` + `AGENT_PORT`).

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- `generate_company_profile(description)` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `company_id`, –∏—Ç–æ–≥–æ–≤—É—é —Å–≤–æ–¥–∫—É –∏ –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –∫–æ–º–ø–∞–Ω–∏–∏.

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ `mcp_tools.json` –∏ `mcp-server-catalog.yaml`.
