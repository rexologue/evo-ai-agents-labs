# agent-service

MCP —Å–µ—Ä–≤–µ—Ä —Å –ø—Ä–æ—Ñ–∏–ª—å–Ω—ã–º –∞–≥–µ–Ω—Ç–æ–º: –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å, –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –û–ö–ü–î2 –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ `db-mcp`.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- `generate_company_profile` ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å —Å –û–ö–ü–î2 –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ —á–µ—Ä–µ–∑ `db-mcp`.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.11+
- –î–æ—Å—Ç—É–ø –∫ LLM API —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–º—É —Å OpenAI
- –ó–∞–ø—É—â–µ–Ω–Ω—ã–π MCP —Å–µ—Ä–≤–µ—Ä `db-mcp`

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
- `LLM_API_KEY` ‚Äî API –∫–ª—é—á –¥–ª—è LLM

### –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
- `PORT` ‚Äî –ø–æ—Ä—Ç MCP —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 8000)
- `HOST` ‚Äî —Ö–æ—Å—Ç MCP —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.0.0.0)
- `LLM_MODEL` ‚Äî –∏–º—è LLM –º–æ–¥–µ–ª–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `gpt-4o-mini`)
- `LLM_API_BASE` ‚Äî –±–∞–∑–æ–≤—ã–π URL LLM (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `https://api.openai.com/v1`)
- `DB_MCP_URL` ‚Äî URL HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ `db-mcp` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `http://localhost:8000`)

–ü—Ä–∏–º–µ—Ä `.env` —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –≤ `.env.example`.

## üöÄ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
```bash
cd agent-service
pip install -e .
cp .env.example .env
# –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∫–ª—é—á LLM
python -m src.server
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `streamable-http` —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É `http://0.0.0.0:8000/mcp`.

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- `generate_company_profile(description)` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `company_id`, –∏—Ç–æ–≥–æ–≤—É—é —Å–≤–æ–¥–∫—É –∏ –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –∫–æ–º–ø–∞–Ω–∏–∏.

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ `mcp_tools.json` –∏ `mcp-server-catalog.yaml`.
