# db-mcp

MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –∫–æ–º–ø–∞–Ω–∏–π –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø–æ–∏—Å–∫–∞ –∑–∞–∫—É–ø–æ–∫.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- `create_company_profile` ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –∫–æ–º–ø–∞–Ω–∏–∏ –≤ PostgreSQL.
- `get_company_profile` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –∫–æ–º–ø–∞–Ω–∏–∏ –ø–æ UUID.
- `list_company_profiles` ‚Äî –≤—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Ñ–∏–ª–µ–π —Å –ø–æ–∏—Å–∫–æ–º –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–¥–∞–Ω—ã –≤ `.env` (—Å–º. `.env.example`). –í –∫–æ–¥–µ –∏ –≤ docker-compose –Ω–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
- `DB_HOST` ‚Äî —Ö–æ—Å—Ç PostgreSQL
- `DB_PORT` ‚Äî –ø–æ—Ä—Ç PostgreSQL
- `DB_NAME` ‚Äî –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `DB_USER` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `DB_PASSWORD` ‚Äî –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `DB_MCP_HOST` ‚Äî —Ö–æ—Å—Ç HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ MCP
- `DB_MCP_PORT` ‚Äî –ø–æ—Ä—Ç HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ MCP


## –ó–∞–ø—É—Å–∫ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```bash
docker buildx build --platform linux/amd64 -t db-mcp -f Dockerfile ..
docker run --rm --network host --env-file .env db-mcp
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É –∏–∑ `.env` (`DB_MCP_HOST` + `DB_MCP_PORT`)
—Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º `streamable-http`.

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- `create_company_profile(profile)` ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–ø–∏—Å—å –∏–∑ –ë–î.
- `get_company_profile(company_id)` ‚Äî –æ—Ç–¥–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –ø–æ UUID.
- `list_company_profiles(query?, limit?, offset?)` ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Ñ–∏–ª–µ–π —Å –ø–æ–∏—Å–∫–æ–º.

–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–æ –≤ `mcp_tools.json`.

## –ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–∞ Cloud.ru
```bash
docker tag db-mcp:latest cloudru-labs.cr.cloud.ru/your-registerd-repo:v1.0.0
docker push cloudru-labs.cr.cloud.ru/your-registerd-repo:v1.0.0
```
