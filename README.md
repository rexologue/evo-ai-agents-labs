# Лабораторные работы по AI-агентам

Этот репозиторий содержит две лабораторные работы, посвященные разработке и развертыванию AI-агентов и MCP-серверов в продукте [AI Agents](https://cloud.ru/products/evolution-ai-agents) на платформе [Evolution](https://cloud.ru/docs).

[Документация продукта](https://cloud.ru/docs/ai-agents/ug/index?highlight=AI+Agents&source-platform=Evolution)

[Попробовать самому](https://console.cloud.ru/spa/ml-ai-agents)

## Содержание

- [Лабораторная работа 1: Создание MCP-сервера для расчета кредитов и вкладов](#лабораторная-работа-1-создание-mcp-сервера-для-расчета-кредитов-и-вкладов)
- [Лабораторная работа 2: Запуск агента из Docker-образа в AI Agents (Google ADK)](#лабораторная-работа-2-запуск-агента-из-docker-образа-в-ai-agents-google-adk)

## О продукте AI Agents

Лабораторные работы предназначены для освоения возможностей продукта [AI Agents](https://cloud.ru/docs/ai-agents/ug/index?highlight=AI+Agents&source-platform=Evolution) на платформе [Evolution](https://console.cloud.ru/spa/ml-ai-agents). AI Agents позволяет создавать и управлять искусственным интеллектом для автоматизации бизнес-процессов.

Вы можете [попробовать продукт самостоятельно](https://console.cloud.ru/spa/ml-ai-agents) в облаке cloud.ru.

## Лабораторная работа 1: Создание MCP-сервера для расчета кредитов и вкладов

Расположение: [`lab1-mcp-finance-lab/`](lab1-mcp-finance-lab/)

В этой лабораторной работе вы создадите MCP-сервер, предоставляющий инструменты для расчета графиков выплат по кредитам и вкладам. Вы освоите основы разработки MCP-сервисов с использованием фреймворка FastMCP, подготовите Docker-образ и развернете его в облаке cloud.ru.

### Функциональность

MCP-сервер предоставляет три инструмента для финансовых расчетов:

1. **Аннуитетный кредит** (`loan_schedule_annuity`) - расчет фиксированного ежемесячного платежа и помесячного графика
2. **Дифференцированный кредит** (`loan_schedule_differential`) - расчет платежей с постоянной частью тела и уменьшающимися процентами
3. **Вклад с капитализацией** (`deposit_schedule_compound`) - расчет графика вклада с ежемесячной капитализацией и взносами

### Технологии

- Python 3.12
- FastMCP фреймворк
- Docker для контейнеризации
- Poetry для управления зависимостями

### Структура проекта

```
lab1-mcp-finance-lab/
├── src/
│   ├── main.py          # Основной файл с определением MCP-инструментов
│   ├── calculations.py  # Реализация алгоритмов расчетов
│   ├── validators.py    # Валидация входных данных
│   ├── utils.py         # Вспомогательные функции
│   └── config.py        # Конфигурационные параметры
├── Dockerfile           # Определение Docker-образа
├── pyproject.toml       # Зависимости проекта
└── README.md            # Подробное описание лабораторной работы
```

## Лабораторная работа 2: Запуск агента из Docker-образа в AI Agents (Google ADK)

Расположение: [`lab2-adk-agent/`](lab2-adk-agent/)

Этот гайд описывает пошаговый процесс упаковки и запуска собственного агента в платформе AI Agents с использованием Docker и google-adk.

### Особенности

1. **Без файловой системы в рантайме** - агенты не должны работать с файловой системой во время выполнения. Все необходимые файлы и зависимости нужно упаковывать на этапе сборки Docker-образа.
2. **Автоматические переменные окружения** - AI Agents автоматически прокидывает готовые переменные окружения в контейнер.

### Технологии

- Python 3.12
- Google ADK (Agent Development Kit)
- A2A SDK
- Docker для контейнеризации
- Poetry для управления зависимостями

### Структура проекта

```
lab2-adk-agent/
├── src/
│   ├── a2a_agent.py           # Реализация A2A агента
│   ├── agent_task_manager.py  # Менеджер задач агента
│   ├── agent.py               # Определение агента
│   └── start_a2a.py           # Точка входа приложения
├── Dockerfile                 # Определение Docker-образа
├── pyproject.toml             # Зависимости проекта
└── README.md                  # Подробное описание лабораторной работы
```
