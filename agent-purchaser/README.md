# agent-purchaser

LangChain –∞–≥–µ–Ω—Ç ¬´PurchaseMatcher¬ª –¥–ª—è –ø–æ–¥–±–æ—Ä–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –∑–∞–∫—É–ø–æ–∫ –ø–æ –ø—Ä–æ—Ñ–∏–ª—é –∫–æ–º–ø–∞–Ω–∏–∏.
–ê–≥–µ–Ω—Ç –æ–±—â–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ A2A, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MCP-—Å–µ—Ä–≤–µ—Ä–∞ `db-mcp` –∏ `gosplan-mcp` –∏ –≥–æ—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ Docker.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –î–∏–∞–ª–æ–≥–æ–≤—ã–π —Å–±–æ—Ä –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –∑–∞–∫—É–ø–∫–∏ –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏.
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è –∫–æ–º–ø–∞–Ω–∏–∏ –∏–∑ `db-mcp` –∏ —É—á—ë—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- –ü–æ–∏—Å–∫ –∑–∞–∫—É–ø–æ–∫ —á–µ—Ä–µ–∑ `gosplan-mcp` —Å —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –≤—ã–¥–∞—á–µ–π –≤ –º–∞—à–∏–Ω–Ω–æ—á–∏—Ç–∞–µ–º–æ–º JSONL.

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø–∏—Å–∞–Ω—ã –≤ `env_options.json`. –ö–ª—é—á–µ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- `LLM_MODEL`, `LLM_API_KEY`, `LLM_API_BASE` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ LLM.
- `DB_MCP_URL`, `GOSPLAN_MCP_URL` ‚Äî –∞–¥—Ä–µ—Å–∞ MCP-—Å–µ—Ä–≤–µ—Ä–æ–≤ —Å –±–∞–∑–æ–π –ø—Ä–æ—Ñ–∏–ª–µ–π –∏ –ø–æ–∏—Å–∫–æ–º –∑–∞–∫—É–ø–æ–∫.
- `AGENT_HOST`, `AGENT_PORT`, `AGENT_URL` ‚Äî –∞–¥—Ä–µ—Å–∞—Ü–∏—è A2A-—Å–µ—Ä–≤–µ—Ä–∞ –∞–≥–µ–Ω—Ç–∞.

## üöÄ –ó–∞–ø—É—Å–∫
```bash
docker buildx build --platform linux/amd64 -t agent-purchaser -f Dockerfile ..
docker run --rm --network host --env-file .env agent-purchaser
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ `AGENT_URL` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `http://0.0.0.0:8003`).

## üõ†Ô∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç (`src/base_prompt.py`) –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ—à–∞–≥–æ–≤—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–∞–±–æ—Ç—É —Å –ø—Ä–æ—Ñ–∏–ª–µ–º –∫–æ–º–ø–∞–Ω–∏–∏.
- MCP-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤—ã–∑—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ A2A –≤—Ä–∞–ø–ø–µ—Ä (`src/a2a_wrapper.py`) –∏ –Ω–µ –¥—É–±–ª–∏—Ä—É—é—Ç –ª–æ–≥–∏–∫—É —Å–µ—Ä–≤–∏—Å–æ–≤ `db-mcp` –∏ `gosplan-mcp`.
- –ê–≥–µ–Ω—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSONL –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –º–∞—à–∏–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ.

## üìñ MCP / Agent –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
–ê–≥–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã MCP-—Å–µ—Ä–≤–∏—Å–æ–≤ `db-mcp` –∏ `gosplan-mcp` (–æ–ø–∏—Å–∞–Ω—ã –≤ –∏—Ö `mcp_tools.json`).
